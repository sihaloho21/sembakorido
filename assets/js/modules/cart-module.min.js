class CartModule{constructor(t="sembako_cart"){this.storageKey=t,this.items=this.loadCart()}loadCart(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading cart:",t),[]}}saveCart(){try{return localStorage.setItem(this.storageKey,JSON.stringify(this.items)),!0}catch(t){return console.error("Error saving cart:",t),!1}}addItem(t,e=1){const s=this.items.find(e=>e.id===t.id);return s?s.qty+=e:this.items.push({id:t.id,nama:t.nama,harga:t.harga,qty:e,slug:t.slug}),this.saveCart(),this.items}removeItem(t){return this.items=this.items.filter(e=>e.id!==t),this.saveCart(),this.items}updateQuantity(t,e){const s=this.items.find(e=>e.id===t);return s&&(e<=0?this.removeItem(t):(s.qty=e,this.saveCart())),this.items}clearCart(){return this.items=[],this.saveCart(),this.items}getItems(){return this.items}getTotal(){return this.items.reduce((t,e)=>t+(parseInt(e.harga)||0)*e.qty,0)}getItemCount(){return this.items.reduce((t,e)=>t+e.qty,0)}isEmpty(){return 0===this.items.length}getSummary(){return{itemCount:this.getItemCount(),total:this.getTotal(),items:this.items,isEmpty:this.isEmpty()}}}"undefined"!=typeof module&&module.exports&&(module.exports=CartModule);