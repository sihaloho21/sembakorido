const CONFIG={DEFAULTS:{MAIN_API:"https://script.google.com/macros/s/AKfycbwDmh_cc-J9c0cuzcSThFQBdiZ7lpy3oUjDENZhHW-4UszuKwPB20g6OeRccVsgvp79hw/exec",ADMIN_API:"https://script.google.com/macros/s/AKfycbwDmh_cc-J9c0cuzcSThFQBdiZ7lpy3oUjDENZhHW-4UszuKwPB20g6OeRccVsgvp79hw/exec",VERSION:"4.2.0"},STORAGE_KEYS:{MAIN_API:"sembako_main_api_url",ADMIN_API:"sembako_admin_api_url",GAJIAN_CONFIG:"sembako_gajian_config",REWARD_CONFIG:"sembako_reward_config",PAYLATER_CONFIG:"sembako_paylater_config",STORE_CLOSED:"sembako_store_closed",MARGIN_ALERT:"sembako_margin_alert",BUNDLE_DISCOUNT:"sembako_bundle_discount"},getMainApiUrl(){return localStorage.getItem(this.STORAGE_KEYS.MAIN_API)||this.DEFAULTS.MAIN_API},getAdminApiUrl(){return localStorage.getItem(this.STORAGE_KEYS.ADMIN_API)||this.DEFAULTS.ADMIN_API},setMainApiUrl(e){return!(!e||!e.trim()||(localStorage.setItem(this.STORAGE_KEYS.MAIN_API,e.trim()),"undefined"!=typeof ApiService&&ApiService.clearCache(),0))},setAdminApiUrl(e){return!(!e||!e.trim()||(localStorage.setItem(this.STORAGE_KEYS.ADMIN_API,e.trim()),"undefined"!=typeof ApiService&&ApiService.clearCache(),0))},resetToDefault(e="main"){"main"===e?localStorage.removeItem(this.STORAGE_KEYS.MAIN_API):"admin"===e&&localStorage.removeItem(this.STORAGE_KEYS.ADMIN_API),"undefined"!=typeof ApiService&&ApiService.clearCache()},getGajianConfig(){const e=localStorage.getItem(this.STORAGE_KEYS.GAJIAN_CONFIG);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing gajian config",e)}return{targetDay:7,markups:[{minDays:29,rate:.2},{minDays:26,rate:.18},{minDays:23,rate:.16},{minDays:20,rate:.14},{minDays:17,rate:.12},{minDays:14,rate:.1},{minDays:11,rate:.08},{minDays:8,rate:.06},{minDays:3,rate:.04},{minDays:0,rate:.02}],defaultMarkup:.25}},setGajianConfig(e){localStorage.setItem(this.STORAGE_KEYS.GAJIAN_CONFIG,JSON.stringify(e))},getRewardConfig(){const e=localStorage.getItem(this.STORAGE_KEYS.REWARD_CONFIG);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing reward config",e)}return{pointValue:1e4,minPoint:.1,manualOverrides:{}}},setRewardConfig(e){localStorage.setItem(this.STORAGE_KEYS.REWARD_CONFIG,JSON.stringify(e))},getPaylaterConfig(){const e=localStorage.getItem(this.STORAGE_KEYS.PAYLATER_CONFIG);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing paylater config",e)}return{enabled:!1,profitToLimitPercent:10,tenorFees:{1:5,2:10,3:15,4:20},dailyPenaltyPercent:.5,penaltyCapPercent:15,maxActiveInvoices:1,maxLimit:1e6,minOrderAmount:0,freezeOverdueDays:7,lockOverdueDays:30}},setPaylaterConfig(e){localStorage.setItem(this.STORAGE_KEYS.PAYLATER_CONFIG,JSON.stringify(e))},getBundleDiscountConfig(){const e=localStorage.getItem(this.STORAGE_KEYS.BUNDLE_DISCOUNT);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing bundle discount config",e)}return{rule34:5,rule56:8,rule7plus:10}},setBundleDiscountConfig(e){localStorage.setItem(this.STORAGE_KEYS.BUNDLE_DISCOUNT,JSON.stringify(e))},getMarginAlertThreshold(){const e=localStorage.getItem(this.STORAGE_KEYS.MARGIN_ALERT),t=parseFloat(e);return Number.isFinite(t)?t:10},setMarginAlertThreshold(e){const t=parseFloat(e);Number.isFinite(t)&&localStorage.setItem(this.STORAGE_KEYS.MARGIN_ALERT,String(t))},isStoreClosed(){return"true"===localStorage.getItem(this.STORAGE_KEYS.STORE_CLOSED)},setStoreClosed(e){localStorage.setItem(this.STORAGE_KEYS.STORE_CLOSED,e?"true":"false")},getAllConfig(){return{mainApi:this.getMainApiUrl(),adminApi:this.getAdminApiUrl(),gajian:this.getGajianConfig(),reward:this.getRewardConfig(),paylater:this.getPaylaterConfig(),storeClosed:this.isStoreClosed(),marginAlert:this.getMarginAlertThreshold(),bundleDiscount:this.getBundleDiscountConfig()}}};