const FrontendSanitize=window.FrontendSanitize||{},sanitizeUrl=FrontendSanitize.sanitizeUrl||(e=>String(e||""));let currentSlideIndex=0,totalSlides=0,sliderImages=[];function initializeSlider(e){if(!e||0===e.length)return void console.warn("⚠️ No images provided to slider");sliderImages=e.filter(e=>e&&""!==e.trim()),totalSlides=sliderImages.length,currentSlideIndex=0;const t=document.getElementById("modal-slider"),n=document.getElementById("slider-dots"),o=document.getElementById("slider-skeleton");t&&n?(t.innerHTML="",n.innerHTML="",sliderImages.forEach((e,n)=>{const i=document.createElement("img");i.src=sanitizeUrl(e,"https://placehold.co/300x200?text=Produk"),i.setAttribute("data-fallback-src","https://placehold.co/300x200?text=Produk"),i.alt=`Slide ${n+1}`,i.className="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 "+(0===n?"opacity-100":"opacity-0"),i.onload=function(){o&&o.classList.add("hidden")},t.appendChild(i)}),sliderImages.forEach((e,t)=>{const o=document.createElement("button");o.className="w-2 h-2 rounded-full transition-all "+(0===t?"bg-white w-6":"bg-white/50 hover:bg-white/75"),o.onclick=()=>goToSlide(t),o.title=`Go to slide ${t+1}`,n.appendChild(o)}),updateSliderCounter(),setupKeyboardNavigation(),setupTouchNavigation(),console.log(`✅ Slider initialized with ${totalSlides} images`)):console.error("❌ Slider containers not found")}function updateSliderCounter(){const e=document.getElementById("slider-counter");e&&(e.textContent=`${currentSlideIndex+1} / ${totalSlides}`)}function goToSlide(e){if(e<0||e>=totalSlides)return;const t=document.querySelectorAll("#modal-slider img"),n=document.querySelectorAll("#slider-dots button");t.forEach((t,n)=>{t.classList.toggle("opacity-100",n===e),t.classList.toggle("opacity-0",n!==e)}),n.forEach((t,n)=>{n===e?(t.classList.add("bg-white","w-6"),t.classList.remove("bg-white/50","hover:bg-white/75")):(t.classList.remove("bg-white","w-6"),t.classList.add("bg-white/50","hover:bg-white/75"))}),currentSlideIndex=e,updateSliderCounter()}function nextSlide(){if(0===totalSlides)return;goToSlide((currentSlideIndex+1)%totalSlides)}function prevSlide(){if(0===totalSlides)return;goToSlide((currentSlideIndex-1+totalSlides)%totalSlides)}function setupKeyboardNavigation(){const e=e=>{"ArrowLeft"===e.key?prevSlide():"ArrowRight"===e.key&&nextSlide()};document.removeEventListener("keydown",e),document.addEventListener("keydown",e)}function setupTouchNavigation(){const e=document.getElementById("modal-slider");if(!e)return;let t=0,n=0;e.addEventListener("touchstart",e=>{t=e.changedTouches[0].clientX}),e.addEventListener("touchend",e=>{n=e.changedTouches[0].clientX,function(){const e=t-n,o=50;Math.abs(e)>o&&(e>0?nextSlide():prevSlide())}()})}function initializeSliderFallback(){const e=document.getElementById("modal-slider"),t=document.querySelector("#modal-slider img");e&&!t&&(e.innerHTML='\n            <img \n                src="https://placehold.co/300x200?text=Produk" \n                alt="Produk" \n                class="w-full h-full object-cover"\n                data-fallback-src="https://placehold.co/300x200?text=Produk"\n            >\n        ');const n=document.getElementById("slider-counter");n&&(n.textContent="1 / 1")}console.log("✅ Image Slider Module Loaded");